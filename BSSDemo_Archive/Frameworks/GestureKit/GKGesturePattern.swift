//
//  GKGesturePattern.swift
//  BSSDemo
//
//  Created by Jieyi Hu on 8/6/15.
//  Copyright Â© 2015 SenseWatch. All rights reserved.
//

import UIKit

class GKGesturePattern: NSObject {
    
    var name : String = ""
    var dataPoints = [[Double]]()
    var length : Int {
        get{
            return dataPoints.count
        }
    }
    var width : Int {
        get{
            if dataPoints.count > 0 {
                return dataPoints[0].count
            } else {
                print("Error accessing width: GKGesturePattern is empty")
                return 0
            }
        }
    }
    
    override init() {
        super.init()
    }
    
    init(dataPoints : [[Double]]){
        super.init()
        self.dataPoints = dataPoints
    }
    
    init(name : String, dataPoints : [[Double]]) {
        self.name = name
        self.dataPoints = dataPoints
    }
    
    func aligned(rhs : GKGesturePattern) -> Bool {
        return self.length == rhs.length && self.width == rhs.width
    }
    
    func saveLocally() {
        do{
            let jsonData = try NSJSONSerialization.dataWithJSONObject(dataPoints, options: NSJSONWritingOptions.PrettyPrinted)
            let jsonStr = NSString(data: jsonData, encoding: NSUTF8StringEncoding)
            let fileName = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.UserDomainMask, true)[0].stringByAppendingPathComponent("\(name).gest")
            try jsonStr?.writeToFile(fileName, atomically: true, encoding: NSUTF8StringEncoding)
        } catch let error as NSError {
            print(error)
        }
    }
}

class GKPredefinedGesturePattern {
    static var Up : GKGesturePattern {
        get{
            return GKGesturePattern(name: "Up", dataPoints:  [[4.0,-10.0,-10.0],[2.0,-9.0,-9.0],[3.0,-10.0,-7.0],[2.0,-11.0,-7.0],[2.0,-9.0,-4.0],[1.0,-10.0,-3.0],[1.0,-10.0,-2.0],[0.0,-8.0,1.0],[-1.0,-6.0,3.0],[-1.0,-6.0,4.0],[-1.0,-6.0,3.0],[-1.0,-6.0,3.0],[0.0,-5.0,3.0],[0.0,-6.0,3.0],[1.0,-8.0,5.0],[2.0,-8.0,6.0],[2.0,-7.0,6.0],[4.0,-7.0,9.0],[3.0,-7.0,12.0],[3.0,-7.0,17.0],[3.0,-6.0,22.0],[5.0,-5.0,24.0],[8.0,-6.0,25.0],[7.0,-4.0,12.0],[3.0,-2.0,1.0],[1.0,-1.0,-1.0],[0.0,0.0,-3.0],[-3.0,2.0,-5.0],[-5.0,1.0,-7.0],[-8.0,-1.0,-6.0],[-9.0,-3.0,-1.0],[-9.0,-5.0,5.0],[-9.0,-5.0,5.0],[-9.0,-5.0,4.0],[-8.0,-5.0,4.0],[-8.0,-4.0,4.0],[-7.0,-4.0,4.0],[-7.0,-4.0,4.0],[-7.0,-4.0,4.0],[-7.0,-4.0,5.0],[-7.0,-4.0,5.0],[-7.0,-4.0,5.0],[-7.0,-4.0,4.0],[-6.0,-5.0,5.0],[-6.0,-5.0,5.0],[-6.0,-7.0,5.0],[-5.0,-7.0,5.0],[-5.0,-7.0,5.0],[-5.0,-7.0,5.0],[-5.0,-7.0,5.0],[-4.0,-7.0,5.0],[-4.0,-8.0,4.0],[-3.0,-7.0,2.0],[-3.0,-7.0,0.0],[-2.0,-7.0,-1.0],[-1.0,-7.0,-4.0],[0.0,-8.0,-6.0],[0.0,-8.0,-8.0],[0.0,-10.0,-10.0],[1.0,-9.0,-9.0]])
        }
    }
    static var Down : GKGesturePattern {
        get{
            return GKGesturePattern(name: "Down", dataPoints: [[-3.0,-9.0,1.0],[-3.0,-9.0,2.0],[-3.0,-9.0,2.0],[-3.0,-9.0,2.0],[-4.0,-9.0,2.0],[-4.0,-8.0,2.0],[-4.0,-8.0,2.0],[-3.0,-7.0,1.0],[-3.0,-8.0,-1.0],[-3.0,-8.0,-1.0],[-4.0,-9.0,-2.0],[-4.0,-8.0,-7.0],[-4.0,-8.0,-11.0],[-2.0,-10.0,-8.0],[1.0,-16.0,-4.0],[3.0,-17.0,-2.0],[5.0,-13.0,7.0],[1.0,-17.0,-3.0],[20.0,-25.0,-16.0],[14.0,-17.0,-3.0],[6.0,-9.0,6.0],[1.0,-4.0,7.0],[0.0,-1.0,6.0],[-1.0,-5.0,3.0],[-2.0,-8.0,0.0],[-3.0,-9.0,-1.0],[-4.0,-8.0,-1.0],[-5.0,-8.0,-1.0],[-6.0,-7.0,0.0],[-6.0,-7.0,-2.0],[-6.0,-7.0,-2.0],[-7.0,-8.0,-1.0],[-6.0,-7.0,-3.0],[-7.0,-8.0,-4.0],[-7.0,-9.0,-4.0],[-7.0,-8.0,-2.0],[-7.0,-8.0,-2.0],[-9.0,-9.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-7.0,-1.0],[-3.0,-8.0,-3.0],[-2.0,-10.0,-4.0],[-3.0,-10.0,-3.0],[-3.0,-9.0,-2.0],[-3.0,-10.0,-3.0],[-3.0,-10.0,-3.0],[-3.0,-9.0,-3.0],[-3.0,-8.0,-3.0],[-2.0,-10.0,-2.0],[-2.0,-10.0,0.0],[-2.0,-11.0,-1.0],[-2.0,-11.0,-1.0],[-2.0,-11.0,-2.0],[-2.0,-10.0,-1.0],[-2.0,-10.0,-1.0],[-2.0,-10.0,-2.0],[-2.0,-9.0,-2.0]])
        }
    }
    static var Left : GKGesturePattern {
        get{
            return GKGesturePattern(name: "Left", dataPoints: [[-2.0,-6.0,-9.0],[-2.0,-7.0,-10.0],[-2.0,-8.0,-9.0],[-3.0,-9.0,-10.0],[-3.0,-8.0,-9.0],[-3.0,-8.0,-6.0],[-3.0,-7.0,-5.0],[-3.0,-7.0,-6.0],[-3.0,-6.0,-6.0],[-3.0,-4.0,-7.0],[-3.0,-2.0,-7.0],[-3.0,0.0,-7.0],[-3.0,0.0,-9.0],[-3.0,1.0,-10.0],[-3.0,4.0,-9.0],[-2.0,5.0,-10.0],[-1.0,7.0,-12.0],[0.0,11.0,-12.0],[1.0,13.0,-13.0],[3.0,15.0,-13.0],[5.0,14.0,-13.0],[6.0,11.0,-10.0],[10.0,3.0,-8.0],[16.0,-6.0,-13.0],[16.0,-13.0,-14.0],[15.0,-11.0,-11.0],[6.0,-13.0,-5.0],[0.0,-8.0,-4.0],[-2.0,-7.0,-6.0],[-1.0,-8.0,-7.0],[-2.0,-4.0,-6.0],[-5.0,-4.0,-7.0],[-6.0,-2.0,-9.0],[-6.0,-4.0,-9.0],[-6.0,-6.0,-7.0],[-7.0,-5.0,-5.0],[-6.0,-8.0,-7.0],[-5.0,-5.0,-10.0],[-4.0,-8.0,-9.0],[-3.0,-5.0,-9.0],[-4.0,-5.0,-10.0],[-3.0,-6.0,-7.0],[-2.0,-6.0,-8.0],[-1.0,-4.0,-11.0],[-2.0,-6.0,-10.0],[-2.0,-6.0,-8.0],[-1.0,-4.0,-11.0],[-2.0,-5.0,-10.0],[-3.0,-5.0,-9.0],[-5.0,-6.0,-9.0],[-3.0,-6.0,-9.0],[-1.0,-7.0,-9.0],[-1.0,-6.0,-9.0],[-1.0,-6.0,-8.0],[-1.0,-6.0,-7.0],[-2.0,-6.0,-7.0],[-2.0,-6.0,-7.0],[-3.0,-6.0,-6.0],[-3.0,-6.0,-7.0],[-2.0,-6.0,-7.0]])
        }
    }
    static var Right : GKGesturePattern {
        get{
            return GKGesturePattern(name: "Right", dataPoints: [[-3.0,-8.0,-1.0],[-4.0,-8.0,-1.0],[-4.0,-8.0,-1.0],[-4.0,-7.0,-1.0],[-5.0,-7.0,-1.0],[-5.0,-8.0,-1.0],[-4.0,-8.0,-1.0],[-5.0,-7.0,-1.0],[-5.0,-7.0,-1.0],[-5.0,-6.0,-1.0],[-5.0,-6.0,-1.0],[-6.0,-6.0,-1.0],[-6.0,-7.0,-1.0],[-6.0,-8.0,0.0],[-6.0,-10.0,1.0],[-5.0,-11.0,2.0],[-4.0,-11.0,4.0],[-2.0,-11.0,6.0],[0.0,-12.0,8.0],[3.0,-15.0,6.0],[2.0,-12.0,5.0],[1.0,-6.0,10.0],[2.0,-10.0,4.0],[2.0,-12.0,0.0],[3.0,-13.0,-8.0],[0.0,-13.0,-12.0],[-1.0,-11.0,-9.0],[-2.0,-10.0,-6.0],[-2.0,-9.0,-4.0],[-4.0,-9.0,-3.0],[-5.0,-9.0,-1.0],[-5.0,-9.0,0.0],[-5.0,-8.0,0.0],[-4.0,-8.0,0.0],[-5.0,-9.0,-1.0],[-5.0,-9.0,0.0],[-5.0,-9.0,0.0],[-6.0,-9.0,1.0],[-6.0,-9.0,1.0],[-6.0,-8.0,1.0],[-5.0,-8.0,1.0],[-5.0,-8.0,0.0],[-5.0,-8.0,0.0],[-5.0,-8.0,0.0],[-5.0,-9.0,-1.0],[-4.0,-9.0,-1.0],[-4.0,-9.0,-2.0],[-4.0,-9.0,-2.0],[-4.0,-9.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-8.0,-2.0],[-4.0,-7.0,-2.0],[-3.0,-7.0,-1.0],[-3.0,-6.0,-1.0],[-2.0,-7.0,-1.0],[-2.0,-8.0,-2.0],[-1.0,-8.0,-2.0],[0.0,-6.0,-2.0],[2.0,-7.0,-7.0],[3.0,-10.0,-11.0]])
        }
    }
}
